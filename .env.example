# Environment Configuration Template
# Copy this to .env and fill in your actual values

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/magazine_extractor
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/test_magazine_extractor

# =============================================================================
# Redis Configuration  
# =============================================================================
REDIS_URL=redis://localhost:6379
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# Service URLs
# =============================================================================
MODEL_SERVICE_URL=http://localhost:8001
EVALUATION_SERVICE_URL=http://localhost:8002
ORCHESTRATOR_SERVICE_URL=http://localhost:8000

# =============================================================================
# Application Settings
# =============================================================================
DEBUG=true
LOG_LEVEL=INFO
ENVIRONMENT=development

# =============================================================================
# Processing Configuration
# =============================================================================
DEVICE=cpu  # or cuda for GPU acceleration
MAX_CONCURRENT_JOBS=4
JOB_TIMEOUT_MINUTES=30
PROCESSING_TIMEOUT_MINUTES=120

# =============================================================================
# File Storage Paths
# =============================================================================
INPUT_DIRECTORY=data/input
OUTPUT_DIRECTORY=data/output
QUARANTINE_DIRECTORY=data/quarantine
TEMP_DIRECTORY=temp
MODEL_CACHE_DIR=models
GOLD_SETS_DIRECTORY=data/gold_sets

# =============================================================================
# Quality Thresholds
# =============================================================================
ACCURACY_THRESHOLD=0.999
BRAND_PASS_RATE_THRESHOLD=0.95
QUARANTINE_THRESHOLD=0.95

# =============================================================================
# Model Configuration
# =============================================================================
LAYOUT_MODEL_NAME=microsoft/layoutlm-v3-base
NER_MODEL_NAME=dbmdz/bert-large-cased-finetuned-conll03-english
BATCH_SIZE=8
MAX_SEQUENCE_LENGTH=512

# =============================================================================
# OCR Configuration
# =============================================================================
OCR_CONFIDENCE_THRESHOLD=0.7
TESSERACT_CONFIG="--oem 3 --psm 6"
MAX_IMAGE_SIZE=2048

# =============================================================================
# Drift Detection & Auto-Tuning
# =============================================================================
DRIFT_WINDOW_SIZE=10
DRIFT_THRESHOLD=0.02
MAX_TUNING_FREQUENCY_HOURS=24
TUNING_IMPROVEMENT_THRESHOLD=0.01

# =============================================================================
# Security & Authentication (for production)
# =============================================================================
# SECRET_KEY=your-secret-key-here
# JWT_SECRET=your-jwt-secret-here
# ALLOWED_ORIGINS=http://localhost:3000,https://your-domain.com

# =============================================================================
# Monitoring & Observability
# =============================================================================
ENABLE_METRICS=true
METRICS_PORT=9090
STRUCTURED_LOGGING=true
TRACE_REQUESTS=false

# =============================================================================
# External Services (if applicable)
# =============================================================================
# SENTRY_DSN=https://your-sentry-dsn
# SLACK_WEBHOOK_URL=https://hooks.slack.com/your-webhook
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_USERNAME=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password

# =============================================================================
# Development Tools
# =============================================================================
HOT_RELOAD=true
DEBUG_TOOLBAR=true
MOCK_EXTERNAL_SERVICES=false

# =============================================================================
# Testing Configuration
# =============================================================================
RUN_SLOW_TESTS=false
RUN_GPU_TESTS=false
RUN_MODEL_TESTS=false
GENERATE_TEST_REPORTS=true

# =============================================================================
# Docker Configuration
# =============================================================================
COMPOSE_PROJECT_NAME=magazine-extractor
DOCKER_BUILDKIT=1

# =============================================================================
# Performance Tuning
# =============================================================================
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
CELERY_WORKER_CONCURRENCY=4
CELERY_MAX_MEMORY_PER_CHILD=200000

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_AUTO_TUNING=true
ENABLE_SYNTHETIC_GENERATION=true
ENABLE_PERFORMANCE_PROFILING=false